<h1 mat-dialog-title>Add an Invitation</h1>

<div mat-dialog-content class="dialog-content">
  <form id="invitation-form" [formGroup]="invitationForm" (ngSubmit)="submitInvitation()">
    <mat-form-field>
      <mat-label>User Code</mat-label>
      <input matInput type="text" formControlName="userCode">
    </mat-form-field>
    <ng-container formArrayName="guests">
      <ng-container *ngFor="let guestForm of guestsFormArray; let i = index">
        <div [formGroup]="guestForm" class="guest-form-group">
          <mat-form-field class="first-name">
            <mat-label>First Name</mat-label>
            <input matInput type="text" formControlName="firstName">
          </mat-form-field>
          <mat-form-field class="last-name">
            <mat-label>Last Name</mat-label>
            <input matInput type="text" formControlName="lastName">
          </mat-form-field>
          <button mat-raised-button color="warn" type="button" class="delete-button" (click)="removeGuestForm(i)">X</button>
        </div>
      </ng-container>
    </ng-container>
  </form>
  <button mat-button (click)="addGuest()">Add Guest</button>
</div>

<div mat-dialog-actions class="dialog-actions">
  <button mat-button mat-dialog-close class="close-button" color="warn">Close</button>

  <button mat-raised-button type="submit" color="primary" form="invitation-form" [disabled]="invitationForm.invalid">Submit</button>
</div>